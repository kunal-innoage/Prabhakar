<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <!-- model.name form view -->
    <record id="pom_api_key_view_form" model="ir.ui.view">
        <field name="name">pom.api.control.view.form</field>
        <field name="model">pom.api.control</field>
        <field name="arch" type="xml">
            <form string="" >
                <sheet >
                    <group >
                        <field name="name" attrs="{'readonly':[('api_key','!=',False)]}"/>
                        <field name="desc" attrs="{'readonly':[('api_key','!=',False)]}"/>
                        <field name="api_key" readonly="1" force_save="1"/>
                    </group>
                    <div>
                        <button type="object" string="Generate Key" name="generate_api_key" attrs="{'invisible':[('api_key','!=',False)]}"/>
                    </div>
                </sheet>
            </form>
        </field>
    </record>
    
    <!-- pom.api.control tree view -->
    <record id="pom_api_control_view_tree" model="ir.ui.view">
        <field name="name">pom.api.control.view.tree</field>
        <field name="model">pom.api.control</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"  />                
                <field name="desc"/>                
                <field name="create_date"/>                
            </tree>
        </field>
    </record>

    <record id="pom_api_control_action" model="ir.actions.act_window">
        <field name="name">Pom Api Control</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">pom.api.control</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- This Menu Item must have a parent and an action -->
    <menuitem id="pom_api_control_menu_act" name="POM Api Control" parent="" action="pom_api_control_action" sequence="5" groups="base.group_system"/>

</odoo>